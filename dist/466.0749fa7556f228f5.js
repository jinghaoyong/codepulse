"use strict";(self.webpackChunkcodepulse=self.webpackChunkcodepulse||[]).push([[466],{4466:(D,h,i)=>{i.r(h),i.d(h,{CategoryListModule:()=>L});var s=i(6814),c=i(6223),l=i(8145),C=i(7394),t=i(5879),b=i(5288);let v=(()=>{class n{constructor(o){this.modal=o,this.prefixTranslate="MODAL_CONFIRM.",this.modal.updateConfig({nzWrapClassName:"modal-confirm"})}ngOnInit(){}handleCancel(){this.modal.destroy(null)}handleConfirm(){this.modal.destroy(this.data)}static#t=this.\u0275fac=function(a){return new(a||n)(t.Y36(b.Lf))};static#o=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-modal-confirm"]],inputs:{data:"data"},decls:5,vars:2,template:function(a,e){1&a&&(t.TgZ(0,"div")(1,"p"),t._uU(2),t.qZA(),t.TgZ(3,"p"),t._uU(4),t.qZA()()),2&a&&(t.xp6(2),t.Oqu(e.data.title),t.xp6(2),t.Oqu(e.data.subTitle))},styles:[".cdk-overlay-container .modal-confirm .ant-modal.ant-modal-confirm.ant-modal-confirm-confirm{top:40vh;padding-bottom:0;height:286px}  .cdk-overlay-container .modal-confirm .ant-modal.ant-modal-confirm.ant-modal-confirm-confirm .ant-modal-content{height:100%;border-radius:6px}  .cdk-overlay-container .modal-confirm .ant-modal.ant-modal-confirm.ant-modal-confirm-confirm .ant-modal-content .ant-modal-body{height:100%;padding:24px}  .cdk-overlay-container .modal-confirm .ant-modal.ant-modal-confirm.ant-modal-confirm-confirm .ant-modal-content .ant-modal-body .ant-modal-confirm-body-wrapper{display:flex;height:100%;flex-direction:column;justify-content:space-between}  .cdk-overlay-container .modal-confirm .ant-modal.ant-modal-confirm.ant-modal-confirm-confirm .ant-modal-content .ant-modal-body .ant-modal-confirm-body-wrapper .ant-modal-confirm-body{display:flex;flex-grow:1;flex-direction:column;justify-content:center}  .cdk-overlay-container .modal-confirm .ant-modal.ant-modal-confirm.ant-modal-confirm-confirm .ant-modal-content .ant-modal-body .ant-modal-confirm-body-wrapper .ant-modal-confirm-body .anticon-question-circle{display:none}  .cdk-overlay-container .modal-confirm .ant-modal.ant-modal-confirm.ant-modal-confirm-confirm .ant-modal-content .ant-modal-body .ant-modal-confirm-body-wrapper .ant-modal-confirm-body .ant-modal-confirm-content{margin:0}  .cdk-overlay-container .modal-confirm .ant-modal.ant-modal-confirm.ant-modal-confirm-confirm .ant-modal-content .ant-modal-body .ant-modal-confirm-body-wrapper .ant-modal-confirm-body .ant-modal-confirm-content app-modal-confirm p{font-weight:500;margin-bottom:16px}  .cdk-overlay-container .modal-confirm .ant-modal.ant-modal-confirm.ant-modal-confirm-confirm .ant-modal-content .ant-modal-body .ant-modal-confirm-body-wrapper .ant-modal-confirm-body .ant-modal-confirm-content app-modal-confirm p:first-of-type{font-size:24px;line-height:30px;color:#15243c}  .cdk-overlay-container .modal-confirm .ant-modal.ant-modal-confirm.ant-modal-confirm-confirm .ant-modal-content .ant-modal-body .ant-modal-confirm-body-wrapper .ant-modal-confirm-body .ant-modal-confirm-content app-modal-confirm p:last-of-type{font-size:16px;line-height:24px;color:#5f5f5f}  .cdk-overlay-container .modal-confirm .ant-modal.ant-modal-confirm.ant-modal-confirm-confirm .ant-modal-content .ant-modal-body .ant-modal-confirm-body-wrapper .ant-modal-confirm-btns{display:flex;justify-content:flex-end}  .cdk-overlay-container .modal-confirm .ant-modal.ant-modal-confirm.ant-modal-confirm-confirm .ant-modal-content .ant-modal-body .ant-modal-confirm-body-wrapper .ant-modal-confirm-btns button{height:48px}  .cdk-overlay-container .modal-confirm .ant-modal.ant-modal-confirm.ant-modal-confirm-confirm .ant-modal-content .ant-modal-body .ant-modal-confirm-body-wrapper .ant-modal-confirm-btns button:first-of-type{font-weight:500;font-size:16px;line-height:24px;color:#444b55;border:0;box-shadow:none}  .cdk-overlay-container .modal-confirm .ant-modal.ant-modal-confirm.ant-modal-confirm-confirm .ant-modal-content .ant-modal-body .ant-modal-confirm-body-wrapper .ant-modal-confirm-btns button:last-of-type{font-weight:500;font-size:16px;line-height:24px;color:#edf3fb;background:#135726;border-radius:6px}"]})}return n})();var p=i(900),x=i(8645),Z=i(2096),m=function(n){return n.XS="464px",n.SM="566px",n.MD="852px",n.LG="1080px",n}(m||{}),T=i(9515);let S=(()=>{class n{constructor(o,a){this.modal=o,this.translateServ=a}open(o,a,e,r={},d){const y=new x.x;return this.getObservableTranslate(o).subscribe(I=>{let g;switch(r.nzTitle=I,d){case"normal":default:g=this.modal.create({nzContent:a,nzBodyStyle:{maxHeight:"calc(100vh - 250px)",overflowY:"auto"},...r});break;case"confirm":g=this.modal.confirm({nzContent:a,nzBodyStyle:{maxHeight:"calc(100vh - 250px)",overflowY:"auto"},...r})}g.getContentComponent().data=e,g.afterClose.subscribe(B=>{y.next(B),y.complete()})}),y}createModalSM(o,a,e,r={}){return this.open(o,a,e,{nzWidth:m.SM,...r})}createModalMD(o,a,e,r={}){return this.open(o,a,e,{nzWidth:m.MD,...r})}createModalLG(o,a,e,r={}){return this.open(o,a,e,{nzWidth:m.LG,...r})}createModalXS(o,a,e,r={}){return this.open(o,a,e,{nzWidth:m.XS,...r})}createModalConfirmSM(o,a,e,r={},d){return this.open(o,a,e,{nzWidth:m.SM,...r},d)}getObservableTranslate(o){return o?this.translateServ.get(o):(0,Z.of)("")}static#t=this.\u0275fac=function(a){return new(a||n)(t.LFG(b.Sf),t.LFG(T.sK))};static#o=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var A=i(6080);function M(n,f){if(1&n&&t._UZ(0,"img",8),2&n){const o=t.oxw().$implicit;t.Q6J("src",o.payload.doc.data().categoryImage,t.LSH)}}const _=function(n){return["/admin/categories",n]};function U(n,f){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t.YNc(6,M,1,1,"img",6),t.qZA(),t.TgZ(7,"td")(8,"a",7),t._uU(9,"Edit"),t.qZA()()()),2&n){const o=f.$implicit;t.xp6(2),t.Oqu(o.payload.doc.data().categoryName),t.xp6(2),t.Oqu(o.payload.doc.data().categoryDescription),t.xp6(2),t.Q6J("ngIf",o.payload.doc.data().categoryImage),t.xp6(2),t.Q6J("routerLink",t.VKq(4,_,o.payload.doc.id))}}const F=function(){return["/admin/categories/add"]};let z=(()=>{class n{constructor(o,a,e){this.categoryServ=o,this.modalService=a,this.spinService=e,this.subscription=new C.w0}ngOnInit(){this.categoryServ.getAllCategoriesFromFirebase().then(o=>{console.log("data",o),this.categories=o})}openBanModal(o){this.subscription.add(this.modalService.createModalConfirmSM("",v,{title:"haha",subTitle:"haha"},{nzClosable:!1,nzOkText:"Yes, I Confirm",nzOnOk:()=>{console.log("haha")}},"confirm"))}static#t=this.\u0275fac=function(a){return new(a||n)(t.Y36(p.H),t.Y36(S),t.Y36(A.V))};static#o=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-category-list"]],decls:21,vars:5,consts:[[1,"container"],[1,"mt-3"],[1,"d-flex","justify-content-end","mt-3"],[1,"btn","btn-primary",3,"routerLink"],[1,"table","table-bordered","mt-3"],[4,"ngFor","ngForOf"],["class","img-fluid","alt","Selected Image",3,"src",4,"ngIf"],[1,"btn","btn-light",3,"routerLink"],["alt","Selected Image",1,"img-fluid",3,"src"]],template:function(a,e){1&a&&(t.TgZ(0,"div",0)(1,"h1",1),t._uU(2,"Category List"),t.qZA(),t.TgZ(3,"div",2)(4,"a",3),t._uU(5,"Add category"),t.qZA()(),t.ynx(6),t.TgZ(7,"table",4)(8,"thead")(9,"tr")(10,"th"),t._uU(11,"categoryName"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"categoryDescription"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"categoryImage"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Action"),t.qZA()()(),t.TgZ(18,"tbody"),t.YNc(19,U,10,6,"tr",5),t.ALo(20,"async"),t.qZA()(),t.BQk(),t.qZA()),2&a&&(t.xp6(4),t.Q6J("routerLink",t.DdM(4,F)),t.xp6(15),t.Q6J("ngForOf",t.lcZ(20,2,e.categories)))},dependencies:[l.rH,s.sg,s.O5,s.Ov]})}return n})();var u=i(1333);let w=(()=>{class n{constructor(o,a){this.categoryServ=o,this.router=a,this.model={name:"",urlHandle:""}}onFormSubmit(){console.log("clicked on form submit"),this.addCategorySubscription=this.categoryServ.addCategory(this.model).subscribe({next:o=>{this.router.navigateByUrl("/admin/categories"),console.log("next : response",o)},error:o=>{console.log("error : response",o)}})}ngOnDestroy(){this.addCategorySubscription?.unsubscribe()}static#t=this.\u0275fac=function(a){return new(a||n)(t.Y36(p.H),t.Y36(l.F0))};static#o=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-category"]],decls:17,vars:2,consts:[[1,"container"],[1,"mt-3"],[3,"ngSubmit"],["form","ngForm"],[1,"mt-2"],[1,"form-label"],["type","text","id","categoryName","name","categoryName",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","categoryName","name","categoryUrlHandle",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-primary"]],template:function(a,e){1&a&&(t.TgZ(0,"div",0)(1,"h1",1),t._uU(2,"Add Category"),t.qZA(),t.TgZ(3,"form",2,3),t.NdJ("ngSubmit",function(){return e.onFormSubmit()}),t.TgZ(5,"div",4)(6,"div",1)(7,"label",5),t._uU(8,"Category Name"),t.qZA(),t.TgZ(9,"input",6),t.NdJ("ngModelChange",function(d){return e.model.name=d}),t.qZA()(),t.TgZ(10,"div",1)(11,"label",5),t._uU(12,"Category Url Handle"),t.qZA(),t.TgZ(13,"input",7),t.NdJ("ngModelChange",function(d){return e.model.urlHandle=d}),t.qZA()(),t.TgZ(14,"div",1)(15,"button",8),t._uU(16,"Save"),t.qZA()()()()()),2&a&&(t.xp6(9),t.Q6J("ngModel",e.model.name),t.xp6(4),t.Q6J("ngModel",e.model.urlHandle))},dependencies:[c._Y,c.Fj,c.JJ,c.JL,c.On,c.F]})}return n})();var J=i(754);function N(n,f){if(1&n){const o=t.EpF();t.ynx(0),t.TgZ(1,"form",4,5),t.NdJ("ngSubmit",function(){t.CHM(o);const e=t.oxw();return t.KtG(e.onFormSubmit())}),t.TgZ(3,"div",6)(4,"div",1)(5,"label",7),t._uU(6,"Category Id"),t.qZA(),t._UZ(7,"input",8),t.qZA(),t.TgZ(8,"div",1)(9,"label",9),t._uU(10,"Category Name"),t.qZA(),t.TgZ(11,"input",10),t.NdJ("ngModelChange",function(e){t.CHM(o);const r=t.oxw();return t.KtG(r.category.categoryDescription=e)}),t.qZA()(),t.TgZ(12,"div",1)(13,"label",11),t._uU(14,"Category Url Handle"),t.qZA()(),t.TgZ(15,"div",1)(16,"button",12),t._uU(17,"Save"),t.qZA(),t.TgZ(18,"button",13),t.NdJ("click",function(){t.CHM(o);const e=t.oxw();return t.KtG(e.onDelete())}),t._uU(19,"Delete"),t.qZA()()()(),t.BQk()}if(2&n){const o=t.oxw();t.xp6(7),t.s9C("value",o.category.categoryName),t.xp6(4),t.Q6J("ngModel",o.category.categoryDescription)}}function q(n,f){1&n&&(t.TgZ(0,"div",14),t._uU(1," Category not found! "),t.qZA())}const O=[{path:"",data:{breadcrumb:"Category"},children:[{path:"",component:z,canActivate:[u.p]},{path:"add",component:w,canActivate:[u.p]},{path:":id",component:(()=>{class n{constructor(o,a,e,r){this.route=o,this.categoryServ=a,this.router=e,this.toastServ=r,this.id=null}ngOnInit(){this.paramsSubscription=this.route.paramMap.subscribe({next:o=>{this.id=o.get("id"),this.id&&this.categoryServ.getCategoryById(this.id).subscribe({next:a=>{this.category=a}})}})}onFormSubmit(){console.log(this.category)}onDelete(){this.id&&(this.deleteCategorySubscription=this.categoryServ.deleteCategory(this.id).subscribe({next:o=>{this.toastServ.showToast("error","Deleted !!","top-left",!0),this.router.navigateByUrl("/admin/categories")}}))}ngOnDestroy(){this.paramsSubscription?.unsubscribe(),this.editCategorySubscription?.unsubscribe(),this.deleteCategorySubscription?.unsubscribe()}static#t=this.\u0275fac=function(a){return new(a||n)(t.Y36(l.gz),t.Y36(p.H),t.Y36(l.F0),t.Y36(J.k))};static#o=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-edit-category"]],decls:6,vars:2,consts:[[1,"container"],[1,"mt-3"],[4,"ngIf","ngIfElse"],["notFound",""],[3,"ngSubmit"],["form","ngForm"],[1,"mt-2"],["for","categoryId",1,"form-label"],["type","text","disabled","","id","categoryId","name","categoryId",1,"form-control",3,"value"],["for","categoryName"],["type","text","id","categoryName","name","categoryName",1,"form-control",3,"ngModel","ngModelChange"],["for","categoryUrlHandle"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-danger","ms-3",3,"click"],["role","alert",1,"alert","alert-info"]],template:function(a,e){if(1&a&&(t.TgZ(0,"div",0)(1,"h1",1),t._uU(2,"Edit Category"),t.qZA(),t.YNc(3,N,20,2,"ng-container",2),t.YNc(4,q,2,0,"ng-template",null,3,t.W1O),t.qZA()),2&a){const r=t.MAs(5);t.xp6(3),t.Q6J("ngIf",e.category)("ngIfElse",r)}},dependencies:[s.O5,c._Y,c.Fj,c.JJ,c.JL,c.On,c.F]})}return n})(),canActivate:[u.p]}]}];let Y=(()=>{class n{static#t=this.\u0275fac=function(a){return new(a||n)};static#o=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[l.Bz.forChild(O),l.Bz]})}return n})(),L=(()=>{class n{static#t=this.\u0275fac=function(a){return new(a||n)};static#o=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[Y,s.ez,c.u5,c.UX]})}return n})()}}]);