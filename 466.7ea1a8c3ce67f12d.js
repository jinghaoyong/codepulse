"use strict";(self.webpackChunkcodepulse=self.webpackChunkcodepulse||[]).push([[466],{4466:(E,h,i)=>{i.r(h),i.d(h,{CategoryListModule:()=>Y});var s=i(6814),c=i(6223),l=i(8145),C=i(7394),t=i(5879),b=i(5288);let v=(()=>{class o{constructor(n){this.modal=n,this.prefixTranslate="MODAL_CONFIRM.",this.modal.updateConfig({nzWrapClassName:"modal-confirm"})}ngOnInit(){}handleCancel(){this.modal.destroy(null)}handleConfirm(){this.modal.destroy(this.data)}static#t=this.\u0275fac=function(e){return new(e||o)(t.Y36(b.Lf))};static#n=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-modal-confirm"]],inputs:{data:"data"},decls:5,vars:2,template:function(e,a){1&e&&(t.TgZ(0,"div")(1,"p"),t._uU(2),t.qZA(),t.TgZ(3,"p"),t._uU(4),t.qZA()()),2&e&&(t.xp6(2),t.Oqu(a.data.title),t.xp6(2),t.Oqu(a.data.subTitle))},styles:[".cdk-overlay-container .modal-confirm .ant-modal.ant-modal-confirm.ant-modal-confirm-confirm{top:40vh;padding-bottom:0;height:286px}  .cdk-overlay-container .modal-confirm .ant-modal.ant-modal-confirm.ant-modal-confirm-confirm .ant-modal-content{height:100%;border-radius:6px}  .cdk-overlay-container .modal-confirm .ant-modal.ant-modal-confirm.ant-modal-confirm-confirm .ant-modal-content .ant-modal-body{height:100%;padding:24px}  .cdk-overlay-container .modal-confirm .ant-modal.ant-modal-confirm.ant-modal-confirm-confirm .ant-modal-content .ant-modal-body .ant-modal-confirm-body-wrapper{display:flex;height:100%;flex-direction:column;justify-content:space-between}  .cdk-overlay-container .modal-confirm .ant-modal.ant-modal-confirm.ant-modal-confirm-confirm .ant-modal-content .ant-modal-body .ant-modal-confirm-body-wrapper .ant-modal-confirm-body{display:flex;flex-grow:1;flex-direction:column;justify-content:center}  .cdk-overlay-container .modal-confirm .ant-modal.ant-modal-confirm.ant-modal-confirm-confirm .ant-modal-content .ant-modal-body .ant-modal-confirm-body-wrapper .ant-modal-confirm-body .anticon-question-circle{display:none}  .cdk-overlay-container .modal-confirm .ant-modal.ant-modal-confirm.ant-modal-confirm-confirm .ant-modal-content .ant-modal-body .ant-modal-confirm-body-wrapper .ant-modal-confirm-body .ant-modal-confirm-content{margin:0}  .cdk-overlay-container .modal-confirm .ant-modal.ant-modal-confirm.ant-modal-confirm-confirm .ant-modal-content .ant-modal-body .ant-modal-confirm-body-wrapper .ant-modal-confirm-body .ant-modal-confirm-content app-modal-confirm p{font-weight:500;margin-bottom:16px}  .cdk-overlay-container .modal-confirm .ant-modal.ant-modal-confirm.ant-modal-confirm-confirm .ant-modal-content .ant-modal-body .ant-modal-confirm-body-wrapper .ant-modal-confirm-body .ant-modal-confirm-content app-modal-confirm p:first-of-type{font-size:24px;line-height:30px;color:#15243c}  .cdk-overlay-container .modal-confirm .ant-modal.ant-modal-confirm.ant-modal-confirm-confirm .ant-modal-content .ant-modal-body .ant-modal-confirm-body-wrapper .ant-modal-confirm-body .ant-modal-confirm-content app-modal-confirm p:last-of-type{font-size:16px;line-height:24px;color:#5f5f5f}  .cdk-overlay-container .modal-confirm .ant-modal.ant-modal-confirm.ant-modal-confirm-confirm .ant-modal-content .ant-modal-body .ant-modal-confirm-body-wrapper .ant-modal-confirm-btns{display:flex;justify-content:flex-end}  .cdk-overlay-container .modal-confirm .ant-modal.ant-modal-confirm.ant-modal-confirm-confirm .ant-modal-content .ant-modal-body .ant-modal-confirm-body-wrapper .ant-modal-confirm-btns button{height:48px}  .cdk-overlay-container .modal-confirm .ant-modal.ant-modal-confirm.ant-modal-confirm-confirm .ant-modal-content .ant-modal-body .ant-modal-confirm-body-wrapper .ant-modal-confirm-btns button:first-of-type{font-weight:500;font-size:16px;line-height:24px;color:#444b55;border:0;box-shadow:none}  .cdk-overlay-container .modal-confirm .ant-modal.ant-modal-confirm.ant-modal-confirm-confirm .ant-modal-content .ant-modal-body .ant-modal-confirm-body-wrapper .ant-modal-confirm-btns button:last-of-type{font-weight:500;font-size:16px;line-height:24px;color:#edf3fb;background:#135726;border-radius:6px}"]})}return o})();var p=i(900),x=i(8645),Z=i(2096),m=function(o){return o.XS="464px",o.SM="566px",o.MD="852px",o.LG="1080px",o}(m||{}),T=i(9515);let S=(()=>{class o{constructor(n,e){this.modal=n,this.translateServ=e}open(n,e,a,r={},d){const y=new x.x;return this.getObservableTranslate(n).subscribe(L=>{let f;switch(r.nzTitle=L,d){case"normal":default:f=this.modal.create({nzContent:e,nzBodyStyle:{maxHeight:"calc(100vh - 250px)",overflowY:"auto"},...r});break;case"confirm":f=this.modal.confirm({nzContent:e,nzBodyStyle:{maxHeight:"calc(100vh - 250px)",overflowY:"auto"},...r})}f.getContentComponent().data=a,f.afterClose.subscribe(B=>{y.next(B),y.complete()})}),y}createModalSM(n,e,a,r={}){return this.open(n,e,a,{nzWidth:m.SM,...r})}createModalMD(n,e,a,r={}){return this.open(n,e,a,{nzWidth:m.MD,...r})}createModalLG(n,e,a,r={}){return this.open(n,e,a,{nzWidth:m.LG,...r})}createModalXS(n,e,a,r={}){return this.open(n,e,a,{nzWidth:m.XS,...r})}createModalConfirmSM(n,e,a,r={},d){return this.open(n,e,a,{nzWidth:m.SM,...r},d)}getObservableTranslate(n){return n?this.translateServ.get(n):(0,Z.of)("")}static#t=this.\u0275fac=function(e){return new(e||o)(t.LFG(b.Sf),t.LFG(T.sK))};static#n=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var _=i(6080);const M=function(o){return["/admin/categories",o]};function A(o,g){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td")(8,"a",7),t._uU(9,"Edit"),t.qZA()()()),2&o){const n=g.$implicit;t.xp6(2),t.Oqu(n.id),t.xp6(2),t.Oqu(n.name),t.xp6(2),t.Oqu(n.urlHandle),t.xp6(2),t.Q6J("routerLink",t.VKq(4,M,n.id))}}function U(o,g){if(1&o&&(t.ynx(0),t.TgZ(1,"table",5)(2,"thead")(3,"tr")(4,"th"),t._uU(5,"Id"),t.qZA(),t.TgZ(6,"th"),t._uU(7,"Name"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Url handle"),t.qZA(),t._UZ(10,"th"),t.qZA()(),t.TgZ(11,"tbody"),t.YNc(12,A,10,6,"tr",6),t.qZA()(),t.BQk()),2&o){const n=g.ngIf;t.xp6(12),t.Q6J("ngForOf",n)}}const q=function(){return["/admin/categories/add"]};let F=(()=>{class o{constructor(n,e,a){this.categorySer=n,this.modalService=e,this.spinService=a,this.subscription=new C.w0}ngOnInit(){this.categories$=this.categorySer.getAllCategories(),this.spinService.requestStarted(),setTimeout(()=>{this.spinService.requestEnded()},3e3)}openBanModal(n){this.subscription.add(this.modalService.createModalConfirmSM("",v,{title:"haha",subTitle:"haha"},{nzClosable:!1,nzOkText:"Yes, I Confirm",nzOnOk:()=>{console.log("haha")}},"confirm"))}static#t=this.\u0275fac=function(e){return new(e||o)(t.Y36(p.H),t.Y36(S),t.Y36(_.V))};static#n=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-category-list"]],decls:8,vars:5,consts:[[1,"container"],[1,"mt-3"],[1,"d-flex","justify-content-end","mt-3"],[1,"btn","btn-primary",3,"routerLink"],[4,"ngIf"],[1,"table","table-bordered","mt-3"],[4,"ngFor","ngForOf"],[1,"btn","btn-light",3,"routerLink"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0)(1,"h1",1),t._uU(2,"Category List"),t.qZA(),t.TgZ(3,"div",2)(4,"a",3),t._uU(5,"Add category"),t.qZA()(),t.YNc(6,U,13,1,"ng-container",4),t.ALo(7,"async"),t.qZA()),2&e&&(t.xp6(4),t.Q6J("routerLink",t.DdM(4,q)),t.xp6(2),t.Q6J("ngIf",t.lcZ(7,2,a.categories$)))},dependencies:[l.rH,s.sg,s.O5,s.Ov]})}return o})();var u=i(1333);let z=(()=>{class o{constructor(n,e){this.categoryServ=n,this.router=e,this.model={name:"",urlHandle:""}}onFormSubmit(){console.log("clicked on form submit"),this.addCategorySubscription=this.categoryServ.addCategory(this.model).subscribe({next:n=>{this.router.navigateByUrl("/admin/categories"),console.log("next : response",n)},error:n=>{console.log("error : response",n)}})}ngOnDestroy(){this.addCategorySubscription?.unsubscribe()}static#t=this.\u0275fac=function(e){return new(e||o)(t.Y36(p.H),t.Y36(l.F0))};static#n=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-category"]],decls:17,vars:2,consts:[[1,"container"],[1,"mt-3"],[3,"ngSubmit"],["form","ngForm"],[1,"mt-2"],[1,"form-label"],["type","text","id","categoryName","name","categoryName",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","categoryName","name","categoryUrlHandle",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-primary"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0)(1,"h1",1),t._uU(2,"Add Category"),t.qZA(),t.TgZ(3,"form",2,3),t.NdJ("ngSubmit",function(){return a.onFormSubmit()}),t.TgZ(5,"div",4)(6,"div",1)(7,"label",5),t._uU(8,"Category Name"),t.qZA(),t.TgZ(9,"input",6),t.NdJ("ngModelChange",function(d){return a.model.name=d}),t.qZA()(),t.TgZ(10,"div",1)(11,"label",5),t._uU(12,"Category Url Handle"),t.qZA(),t.TgZ(13,"input",7),t.NdJ("ngModelChange",function(d){return a.model.urlHandle=d}),t.qZA()(),t.TgZ(14,"div",1)(15,"button",8),t._uU(16,"Save"),t.qZA()()()()()),2&e&&(t.xp6(9),t.Q6J("ngModel",a.model.name),t.xp6(4),t.Q6J("ngModel",a.model.urlHandle))},dependencies:[c._Y,c.Fj,c.JJ,c.JL,c.On,c.F]})}return o})();var w=i(754);function H(o,g){if(1&o){const n=t.EpF();t.ynx(0),t.TgZ(1,"form",4,5),t.NdJ("ngSubmit",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.onFormSubmit())}),t.TgZ(3,"div",6)(4,"div",1)(5,"label",7),t._uU(6,"Category Id"),t.qZA(),t._UZ(7,"input",8),t.qZA(),t.TgZ(8,"div",1)(9,"label",9),t._uU(10,"Category Name"),t.qZA(),t.TgZ(11,"input",10),t.NdJ("ngModelChange",function(a){t.CHM(n);const r=t.oxw();return t.KtG(r.category.name=a)}),t.qZA()(),t.TgZ(12,"div",1)(13,"label",11),t._uU(14,"Category Url Handle"),t.qZA(),t.TgZ(15,"input",12),t.NdJ("ngModelChange",function(a){t.CHM(n);const r=t.oxw();return t.KtG(r.category.urlHandle=a)}),t.qZA()(),t.TgZ(16,"div",1)(17,"button",13),t._uU(18,"Save"),t.qZA(),t.TgZ(19,"button",14),t.NdJ("click",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.onDelete())}),t._uU(20,"Delete"),t.qZA()()()(),t.BQk()}if(2&o){const n=t.oxw();t.xp6(7),t.s9C("value",n.category.id),t.xp6(4),t.Q6J("ngModel",n.category.name),t.xp6(4),t.Q6J("ngModel",n.category.urlHandle)}}function J(o,g){1&o&&(t.TgZ(0,"div",15),t._uU(1," Category not found! "),t.qZA())}const O=[{path:"",data:{breadcrumb:"Category"},children:[{path:"",component:F,canActivate:[u.p]},{path:"add",component:z,canActivate:[u.p]},{path:":id",component:(()=>{class o{constructor(n,e,a,r){this.route=n,this.categoryServ=e,this.router=a,this.toastServ=r,this.id=null}ngOnInit(){this.paramsSubscription=this.route.paramMap.subscribe({next:n=>{this.id=n.get("id"),this.id&&this.categoryServ.getCategoryById(this.id).subscribe({next:e=>{this.category=e}})}})}onFormSubmit(){console.log(this.category),this.id&&(this.editCategorySubscription=this.categoryServ.updateCategory(this.id,{name:this.category?.name??"",urlHandle:this.category?.urlHandle??""}).subscribe({next:e=>{this.router.navigateByUrl("/admin/categories")}}))}onDelete(){this.id&&(this.deleteCategorySubscription=this.categoryServ.deleteCategory(this.id).subscribe({next:n=>{this.toastServ.showToast("error","Deleted !!","top-left",!0),this.router.navigateByUrl("/admin/categories")}}))}ngOnDestroy(){this.paramsSubscription?.unsubscribe(),this.editCategorySubscription?.unsubscribe(),this.deleteCategorySubscription?.unsubscribe()}static#t=this.\u0275fac=function(e){return new(e||o)(t.Y36(l.gz),t.Y36(p.H),t.Y36(l.F0),t.Y36(w.k))};static#n=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-edit-category"]],decls:6,vars:2,consts:[[1,"container"],[1,"mt-3"],[4,"ngIf","ngIfElse"],["notFound",""],[3,"ngSubmit"],["form","ngForm"],[1,"mt-2"],["for","categoryId",1,"form-label"],["type","text","disabled","","id","categoryId","name","categoryId",1,"form-control",3,"value"],["for","categoryName"],["type","text","id","categoryName","name","categoryName",1,"form-control",3,"ngModel","ngModelChange"],["for","categoryUrlHandle"],["type","text","id","categoryUrlHandle","name","categoryUrlHandle",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-danger","ms-3",3,"click"],["role","alert",1,"alert","alert-info"]],template:function(e,a){if(1&e&&(t.TgZ(0,"div",0)(1,"h1",1),t._uU(2,"Edit Category"),t.qZA(),t.YNc(3,H,21,3,"ng-container",2),t.YNc(4,J,2,0,"ng-template",null,3,t.W1O),t.qZA()),2&e){const r=t.MAs(5);t.xp6(3),t.Q6J("ngIf",a.category)("ngIfElse",r)}},dependencies:[s.O5,c._Y,c.Fj,c.JJ,c.JL,c.On,c.F]})}return o})(),canActivate:[u.p]}]}];let k=(()=>{class o{static#t=this.\u0275fac=function(e){return new(e||o)};static#n=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[l.Bz.forChild(O),l.Bz]})}return o})(),Y=(()=>{class o{static#t=this.\u0275fac=function(e){return new(e||o)};static#n=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[k,s.ez,c.u5,c.UX]})}return o})()}}]);